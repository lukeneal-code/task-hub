You are a Senior DevOps Engineer and Full-Stack Architect with expertise in multi-tenant SaaS platforms, Identity and Access Management (IAM), and microservices architecture. Your task is to create a comprehensive development/proof-of-concept implementation.

# PROJECT OVERVIEW
Build a Multi-Tenant SaaS Authentication and Authorization Platform called "TaskHub" - a project management application that demonstrates enterprise-grade IAM concepts while running fully locally.

# CORE REQUIREMENTS

## Technical Stack
- **Frontend**: React with TypeScript
- **Backend**: Node.js/NextJS with TypeScript
- **Identity Provider**: Keycloak configured via Keycloak Operator
- **Orchestration**: docker-compose for multi-service environment
- **Database**: Schema separation for tenant isolation

## Key Features
1. **Multi-Tenancy**: Each tenant mapped to separate Keycloak Realm
2. **Automated Provisioning**: REST API for creating new tenants/realms
3. **Role-Based Access**: Support for admin, manager, member roles
4. **Customization**: Tenant-specific login themes and policies
5. **Social Logins**: Generic/configurable identity provider integration
6. **SSO**: Single Sign-On across microservices
7. **JWT Authorization**: Tenant-aware token validation

## Compliance Requirements
- **SOC2 Compliance**: Implement appropriate security controls and audit logging
- **GDPR Data Isolation**: Ensure complete data separation between tenants
- **Schema Separation**: Database-level tenant isolation

## IAM Concepts to Demonstrate
- Realm isolation between tenants
- Role-based access control (realm roles + client roles)
- Identity brokering capabilities
- Cross-service SSO implementation
- Tenant-aware JWT authorization

# TARGET AUDIENCE
Development teams and architects looking to understand multi-tenant IAM implementation patterns. This is a proof-of-concept, not production-ready code.

# DELIVERABLES
Provide a complete implementation package including:

1. **Working Codebase**
   - Complete React frontend with tenant-aware routing
   - Node.js/NextJS backend with multi-tenant API
   - Keycloak configuration and realm management
   - docker-compose setup for local development
   - Database schema with proper tenant separation

2. **Documentation**
   - Comprehensive README with setup instructions
   - API documentation for tenant management endpoints
   - Configuration guide for Keycloak realms
   - Security implementation notes for SOC2/GDPR compliance

3. **Architectural Diagrams**
   - System architecture overview
   - Authentication/authorization flow diagrams
   - Database schema relationships
   - Multi-tenant request flow

4. **Implementation Guide**
   - Step-by-step setup instructions
   - Configuration examples for different scenarios
   - Testing procedures for multi-tenant scenarios
   - Troubleshooting common issues

# SPECIFIC REQUIREMENTS

## Frontend Requirements
- Tenant-aware login interface
- Role-based UI components and routing
- Integration with Keycloak JavaScript adapter
- Responsive design with customizable themes per tenant

## Backend Requirements
- Tenant provisioning API endpoints
- JWT token validation middleware
- Role-based route protection
- Audit logging for compliance
- Database connection pooling with schema routing

## Keycloak Configuration
- Automated realm creation via Admin API
- Custom themes and branding per tenant
- Configurable identity provider integration
- Role mappings and client configurations

## Security & Compliance
- Implement SOC2 control requirements (access logging, encryption)
- GDPR-compliant data isolation and retention policies
- Secure token handling and validation
- Proper error handling without information leakage

# OUTPUT FORMAT
Structure your response with clear sections:
1. Project structure and file organization
2. Complete code implementations with inline comments
3. Configuration files (docker-compose, Keycloak, database)
4. Documentation in markdown format
5. Architectural diagrams using ASCII art or mermaid syntax
6. Step-by-step setup guide

# STYLE GUIDELINES
- Use TypeScript throughout for type safety
- Follow enterprise coding standards and best practices
- Include comprehensive error handling
- Add detailed comments explaining multi-tenant logic
- Use environment variables for configuration
- Implement proper logging and monitoring hooks

# CONSTRAINTS
- Must run completely locally via docker-compose
- No external dependencies beyond configurable identity providers
- Focus on core project management functionality (avoid feature bloat)
- Prioritize demonstration of IAM concepts over UI polish
- Ensure easy setup for developers unfamiliar with Keycloak

Provide a complete, working implementation that serves as both a functional proof-of-concept and an educational resource for understanding multi-tenant SaaS IAM architecture.